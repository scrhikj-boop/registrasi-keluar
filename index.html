<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>REGISTRASI KELUAR</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:'Poppins',sans-serif}
body{
  margin:0;min-height:100vh;
  background:linear-gradient(180deg,#0f1c2e,#132640,#0f1c2e);
  display:flex;justify-content:center;align-items:flex-start;
  padding:24px 12px
}
.form-card{
  width:100%;max-width:520px;
  border-radius:16px;overflow:hidden;
  background:rgba(19,38,64,.55);
  backdrop-filter:blur(12px);
  box-shadow:0 18px 40px rgba(0,0,0,.45);
  color:#fff
}
.form-header,.form-footer{
  padding:20px;text-align:center;
  border-bottom:1px solid rgba(255,255,255,.12)
}
.form-footer{border-top:1px solid rgba(255,255,255,.12);font-size:11px;opacity:.6}
.form-body{padding:22px 20px}
.field{margin-bottom:18px}
label{font-size:12.5px;font-weight:500;margin-bottom:6px;display:block}
input{
  width:100%;border:none;border-bottom:2px solid rgba(255,255,255,.4);
  padding:12px 6px;background:transparent;color:#fff;font-size:14px
}
input:focus{outline:none;border-bottom-color:#25D366}
button{
  width:100%;padding:15px;border:none;border-radius:14px;
  background:#25D366;color:#fff;font-size:15px;font-weight:600;cursor:pointer
}
</style>
</head>

<body>

<div class="form-card">
  <div class="form-header">
    <h1>REGISTRASI KELUAR</h1>
    <p>Silakan isi data sebelum meninggalkan area Hotel Indonesia Kempinski Jakarta</p>
  </div>

  <div class="form-body">
    <form onsubmit="sendData();return false">

      <div class="field">
        <label>Nama</label>
        <input id="nama" required>
      </div>

      <div class="field">
        <label>Nama Perusahaan / Vendor</label>
        <input id="perusahaan" required>
      </div>

      <div class="field">
        <label>Nomor Pass</label>
        <input id="pass" required>
      </div>

      <div class="field">
        <label>Nama Security</label>
        <input id="security" required>
      </div>

      <div class="field">
        <label>Tanggal & Jam Keluar</label>
        <input id="datetime" readonly>
      </div>

      <button id="btnSubmit" type="submit">KIRIM VIA WHATSAPP</button>
    </form>
  </div>

  <div class="form-footer">Â© REGISTRASI KELUAR</div>
</div>

<script>
const WEBAPP_URL =
"https://script.google.com/macros/s/AKfycby47gQyNqiqBKOjclIibO5FPzpdm7KUcA50NMM_d3n3PYAN4P7CT16QwXuQ5vHjZb-b/exec";

let isSending = false;

const now = new Date();
datetime.value =
  now.toLocaleDateString("id-ID") + " " +
  now.toLocaleTimeString("id-ID", { hour: "2-digit", minute: "2-digit" });

function sendData() {
  if (isSending) return;
  isSending = true;
  btnSubmit.disabled = true;

  const formData = new URLSearchParams();
  formData.append("nama", nama.value);
  formData.append("perusahaan", perusahaan.value);
  formData.append("pass", pass.value);
  formData.append("security", security.value);
  formData.append("datetime", datetime.value);

  fetch(WEBAPP_URL, {
    method: "POST",
    body: formData
  });

  const message =
    "REGISTRASI KELUAR%0A%0A" +
    "Nama: " + nama.value + "%0A" +
    "Perusahaan/Vendor: " + perusahaan.value + "%0A" +
    "Nomor Pass: " + pass.value + "%0A" +
    "Nama Security: " + security.value + "%0A" +
    "Tanggal & Jam Keluar: " + datetime.value;

  window.open(
    "https://wa.me/6281314414955?text=" + message,
    "_blank"
  );

  document.querySelector("form").reset();

  setTimeout(() => {
    isSending = false;
    btnSubmit.disabled = false;
  }, 1500);
}
</script>



</body>
</html>
